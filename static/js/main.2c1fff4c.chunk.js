(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2:function(e,t,n){e.exports={Expense:"Expense_Expense__20if_",Main:"Expense_Main__AWlrr",Sub:"Expense_Sub__3hYVt",Hidden:"Expense_Hidden__2l6XL"}},20:function(e,t,n){e.exports={Screen:"Screen_Screen__JEQYL"}},21:function(e,t,n){e.exports={Container:"Layout_Container__3fb-m"}},22:function(e,t,n){e.exports={StartScreen:"StartScreen_StartScreen__2B_19"}},23:function(e,t,n){e.exports={Expenses:"Expenses_Expenses__3fwB8"}},26:function(e,t,n){e.exports=n(41)},3:function(e,t,n){e.exports={Window:"Window_Window__P42bS",Names:"Window_Names__2EwRh",Name:"Window_Name__32QPU"}},31:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(16),i=n.n(s),o=(n(31),n(1)),l=n(17),c=n(18),u=n(24),d=n(19),p=n(25),m=n(20),b=n.n(m),h=function(e){return r.a.createElement("div",{className:b.a.Screen},e.children)},x=n(11),E=n(21),f=n.n(E),g=function(e){return r.a.createElement(x.Motion,{style:{y:Object(x.spring)(e.position)}},function(t){return r.a.createElement("div",{className:f.a.Container,style:{transform:"translateY(".concat(t.y,"vh)")}},e.children)})},C=n(22),v=n.n(C),y=function(e){return r.a.createElement("div",{className:v.a.StartScreen},r.a.createElement("h1",null,"Well, it's time to settle up"),r.a.createElement("i",{className:"fas fa-plus",onClick:e.next}))},k=n(3),N=n.n(k),w=function(e){return r.a.createElement("div",{className:N.a.Window},e.children)},_=function(e){var t=null;return e.readyToChange||""===e.title&&(t={border:"2px solid red"}),r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Give a name to this calculations"),r.a.createElement("input",{type:"text",placeholder:"The best journey ever",onChange:e.updateTitle,value:e.title||"",style:t}),r.a.createElement("button",{onClick:e.next},"Next step"),r.a.createElement("button",{onClick:e.back},"Back"))},S=function(e){var t=null;e.readyToChange||e.names.length<1&&(t={border:"2px solid red"});var n=null;return e.names&&(n=e.names.map(function(t){return r.a.createElement("div",{className:N.a.Name,key:t.id,onClick:function(){return e.nameClicked(t.id)}},t.name)})),r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Type your buddies' names",r.a.createElement("span",null,"(separated with commas)")),r.a.createElement("input",{type:"text",placeholder:"Huey,Dewey,Louie",onChange:e.updateNames,value:e.names.map(function(e){return e.name}).join(", "),style:t}),r.a.createElement("button",{onClick:e.next},"Next step"),r.a.createElement("button",{onClick:e.back},"Back"),e.names.length>0?r.a.createElement("h5",null,"If you want to delete a name, click adequate box below"):null,r.a.createElement("div",{className:N.a.Names},n))},H=n(2),T=n.n(H),j=function(e){var t=null,n=null,a=null,s=null;e.readyToChange||(""===e.name&&(t={border:"2px solid red"}),""===e.cost&&(n={border:"2px solid red"}),e.partValid||(s={border:"2px solid red"}));var i=null;e.names.length>0&&(i=e.names.map(function(t,n){return e.readyToChange||""===e.contributions[n]&&(a={border:"2px solid red"}),r.a.createElement("div",{key:t.name},r.a.createElement("label",null,t.name),r.a.createElement("input",{type:"number",value:e.contributions[n]||"",onChange:function(t){return e.updateContributions(e.id,n,t)},style:a}))}));var o=e.show?r.a.createElement("i",{className:"far fa-caret-square-up",onClick:function(){return e.toggleExpense(e.id)}}):r.a.createElement("i",{className:"far fa-caret-square-down",onClick:function(){return e.toggleExpense(e.id)}});return r.a.createElement("div",{className:T.a.Expense},r.a.createElement("div",{className:T.a.Main},r.a.createElement("i",{className:"far fa-trash-alt",onClick:function(){return e.deleteExpense(e.id)}}),r.a.createElement("input",{type:"text",placeholder:"Expense's name",onChange:function(t){return e.updateName(e.id,t)},value:e.name||"",style:t}),r.a.createElement("input",{type:"number",placeholder:"999",onChange:function(t){return e.updateCost(e.id,t)},value:e.cost||"",style:n}),o),e.show?r.a.createElement("div",{className:T.a.Sub,style:s},i):r.a.createElement("div",{className:[T.a.Sub,T.a.Hidden].join(" "),style:s},i))},B=n(23),O=n.n(B),P=function(e){var t=e.expenses.map(function(t){return r.a.createElement(j,{names:e.names,key:t.id,id:t.id,name:t.name,cost:t.cost,contributions:t.contributions,show:t.show,partValid:t.partExpValid,valid:t.valid,updateName:e.updateName,updateCost:e.updateCost,updateContributions:e.updateContributions,toggleExpense:e.toggleExpense,deleteExpense:e.deleteExpense,readyToChange:e.readyToChange})});return r.a.createElement("div",{className:O.a.Expenses},t)},V=function(e){return r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Type shared expenses"),r.a.createElement(P,{names:e.names,expenses:e.expenses,updateName:e.updateName,updateCost:e.updateCost,updateContributions:e.updateContributions,toggleExpense:e.toggleExpense,deleteExpense:e.deleteExpense,readyToChange:e.readyToChange}),r.a.createElement("button",{onClick:e.nextExpense},"Next expense"),r.a.createElement("button",{onClick:e.calculate},"Calculate"),r.a.createElement("button",{onClick:e.back},"Back"))},W=function(e){var t=e.debts.map(function(e,t){return r.a.createElement("p",{key:t},r.a.createElement("strong",null,e.obligorName)," should give back ",r.a.createElement("strong",null,e.debt.toFixed(2))," to ",r.a.createElement("strong",null,e.obligeeName))});return r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Let's settle up",r.a.createElement("span",null,e.title)),t,r.a.createElement("button",{onClick:e.back},"Back"),r.a.createElement("button",{onClick:e.newCalc},"New calculation"))},I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state=n.initialState,n.checkWindowsInputs=function(e){switch(e){case 1:return""!==n.state.title;case 2:return n.state.names.length>0;case 3:return n.state.expenses.reduce(function(e,t){return n.checkExpenseValid(t)&&e},n.checkExpenseValid(n.state.expenses[0]));default:return!0}},n.checkExpenseValid=function(e){return!(""===e.name||""===e.cost||0!==e.contributions.filter(function(e){return""===e}).length||!e.partExpValid)},n.checkPartialExpenses=function(e){return e.contributions.reduce(function(e,t){return Number(t)+Number(e)})===Number(e.cost)},n.nextButtonHandler=function(){var e=n.state.positionY,t=n.state.index;n.checkWindowsInputs(t)?(e-=100,t+=1,n.setState({positionY:e,index:t,readyToChange:!0})):(Object(o.a)(n.state.expenses).forEach(function(e){return e.show=!(e.partExpValid&&0===e.contributions.filter(function(e){return""===e}).length)}),n.setState({readyToChange:!1}))},n.backButtonHandler=function(){var e=n.state.positionY+100,t=n.state.index-1;n.setState({positionY:e,index:t,readyToChange:!0})},n.updateTitleHandler=function(e){var t=e.target.value;n.setState({title:t})},n.updateNamesHandler=function(e){var t=e.target.value.split(",").map(function(e,t){return{id:t,name:e.trim(),debt:0}}),a=n.addEmptyContributions(Object(o.a)(n.state.expenses),t);n.setState({names:t,expenses:a})},n.addEmptyContributions=function(e,t){if(0===e[0].contributions.length){var n=t.map(function(e){return""});e[0].contributions=n}else for(var a=t.length-e[0].contributions.length;a>0;a--)e.forEach(function(e){return e.contributions.push("")});return e},n.deleteNameHandler=function(e){var t=Object(o.a)(n.state.names),a=t.findIndex(function(t){return t.id===e});t.splice(a,1);var r=Object(o.a)(n.state.expenses);r.forEach(function(e){e.contributions.splice(a,1),e.partExpValid=n.checkPartialExpenses(e)}),n.setState({names:t,expenses:r})},n.addExpenseHandler=function(){var e=n.state.names.map(function(e){return""}),t=Object(o.a)(n.state.expenses);t.forEach(function(e){return e.show=!1});var a=t[t.length-1].id+1;t.push({id:a,name:"",cost:"",contributions:e,show:!0,perPerson:0,valid:!1}),n.setState({expenses:t})},n.toggleExpenseHandler=function(e){var t=Object(o.a)(n.state.expenses),a=t.findIndex(function(t){return t.id===e});t[a].show=!t[a].show,n.setState({expenses:t})},n.deleteExpenseHandler=function(e){var t=Object(o.a)(n.state.expenses),a=t.findIndex(function(t){return t.id===e});t.length>1?t.splice(a,1):t[0]={id:0,name:"",cost:"",contributions:[],show:!0,perPerson:0,partExpValid:!1},n.setState({expenses:t})},n.updateNameHandler=function(e,t){var a=t.target.value,r=Object(o.a)(n.state.expenses),s=r.findIndex(function(t){return t.id===e});r[s].name=a,n.setState({expenses:r})},n.updateCostHandler=function(e,t){var a=t.target.value,r=Object(o.a)(n.state.expenses),s=r.findIndex(function(t){return t.id===e});r[s].cost=a,n.setState({expenses:r})},n.updateContributions=function(e,t,a){var r=a.target.value,s=Object(o.a)(n.state.expenses),i=s.findIndex(function(t){return t.id===e});s[i].contributions[t]=r,s[i].partExpValid=n.checkPartialExpenses(s[i]),n.setState({expenses:s})},n.calculateExpPerPerson=function(){Object(o.a)(n.state.expenses).forEach(function(e){var t=e.contributions.filter(function(e){return e>=0});e.perPerson=e.cost/t.length})},n.calculatePersonsDebts=function(){Object(o.a)(n.state.names).forEach(function(e,t){e.debt=n.state.expenses.map(function(e){return e.contributions[t]>=0?e.perPerson-e.contributions[t]:0}).reduce(function(e,t){return e+t})})},n.createDebtsList=function(){var e=n.state.names.filter(function(e){return e.debt.toFixed(2)>0}),t=n.state.names.filter(function(e){return e.debt.toFixed(2)<0}),a=[];e.forEach(function(e){for(var n=0;e.debt>0&&n<t.length;)t[n].debt<0&&(e.debt<=-t[n].debt?(a.push({obligorName:e.name,obligeeName:t[n].name,debt:e.debt}),t[n].debt=t[n].debt+e.debt,e.debt=0):(a.push({obligorName:e.name,obligeeName:t[n].name,debt:-t[n].debt}),e.debt=e.debt+t[n].debt,t[n].debt=0)),n++}),n.setState({debts:a})},n.calculate=function(){n.calculateExpPerPerson(),n.calculatePersonsDebts(),n.createDebtsList(),n.nextButtonHandler()},n.newCalculation=function(){n.setState(n.initialState)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h,null,r.a.createElement(g,{position:this.state.positionY},r.a.createElement(y,{next:this.nextButtonHandler}),r.a.createElement(w,null,r.a.createElement(_,{title:this.state.title,updateTitle:this.updateTitleHandler,next:this.nextButtonHandler,back:this.backButtonHandler,readyToChange:this.state.readyToChange})),r.a.createElement(w,null,r.a.createElement(S,{names:this.state.names,updateNames:this.updateNamesHandler,nameClicked:this.deleteNameHandler,next:this.nextButtonHandler,back:this.backButtonHandler,readyToChange:this.state.readyToChange})),r.a.createElement(w,null,r.a.createElement(V,{names:this.state.names,expenses:this.state.expenses,updateName:this.updateNameHandler,updateCost:this.updateCostHandler,updateContributions:this.updateContributions,toggleExpense:this.toggleExpenseHandler,deleteExpense:this.deleteExpenseHandler,nextExpense:this.addExpenseHandler,next:this.nextButtonHandler,back:this.backButtonHandler,calculate:this.calculate,readyToChange:this.state.readyToChange})),r.a.createElement(w,null,r.a.createElement(W,{debts:this.state.debts,title:this.state.title,back:this.backButtonHandler,newCalc:this.newCalculation}))))}},{key:"initialState",get:function(){return{positionY:0,windows:["start","title","names","expenses","debts"],index:0,title:"",names:[],expenses:[{id:0,name:"",cost:"",contributions:[],show:!0,perPerson:0,partExpValid:!1}],readyToChange:!0,debts:[]}}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.2c1fff4c.chunk.js.map